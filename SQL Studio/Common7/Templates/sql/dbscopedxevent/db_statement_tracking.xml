<event_sessions xmlns="http://schemas.microsoft.com/sqlserver/2008/07/extendedeventconfig">
  <event_session name="query_detail_final_fix_pred" maxMemory="4" eventRetentionMode="allowSingleEventLoss" trackCausality="true" dispatchLatency="30" maxEventSize="0" memoryPartitionMode="none">
    <templateCategory>
      <!-- _locID_text="templateCategory" _locComment = "" -->Abfrageausführung</templateCategory>
    <templateName>
      <!-- _locID_text = "templateName" _locComment = "" -->Abfragedetail-Nachverfolgung</templateName>
    <templateDescription>
      <!-- _locID_text = "templateDescription" _locComment = "" -->Diese Vorlage sammelt detaillierte Informationen über Anweisungen und Fehler. Anhand dieser Vorlage können Sie jede Anweisung nachverfolgen, die durch Abfragebatches oder gespeicherte Prozeduren im System ausgeführt wurde, und die Fehler bis zur fehlerverursachenden Anweisung zurückverfolgen. Diese Vorlage sammelt außerdem den Abfragehash- und den Abfrageplanhash-Wert jeder nachverfolgten Anweisung. Alle Anweisungsereignisse in dieser Sitzung werden gesammelt, sodass die Sammlung sehr groß werden kann. Um die Größe der Sammlung zu reduzieren, können Sie auch die Vorlage 'Abfragedetail-Stichprobe' verwenden, die bereits über einen Filter verfügt.</templateDescription>
    <event package="sqlserver" name="error_reported">
      <action package="sqlserver" name="client_app_name"/>
      <action package="sqlserver" name="database_id"/>
      <action package="sqlserver" name="query_hash"/>
      <action package="sqlserver" name="session_id"/>
      <predicate>
        <and>
          <leaf>
            <comparator name="greater_than_uint64" package="package0"></comparator>
            <global name="database_id" package="sqlserver"></global>
            <value>4</value>
          </leaf>
          <leaf>
            <comparator name="equal_boolean" package="package0"></comparator>
            <global name="is_system" package="sqlserver"></global>
            <value>FALSE</value>
          </leaf>
        </and>
      </predicate>
    </event>
    <event package="sqlserver" name="module_end">
      <action package="sqlserver" name="client_app_name"/>
      <action package="sqlserver" name="database_id"/>
      <action package="sqlserver" name="query_hash"/>
      <action package="sqlserver" name="session_id"/>
      <parameter name="collect_statement" value="1"/>
      <predicate>
        <and>
          <leaf>
            <comparator name="greater_than_uint64" package="package0"></comparator>
            <global name="database_id" package="sqlserver"></global>
            <value>4</value>
          </leaf>
          <leaf>
            <comparator name="equal_boolean" package="package0"></comparator>
            <global name="is_system" package="sqlserver"></global>
            <value>FALSE</value>
          </leaf>
        </and>
      </predicate>
    </event>
    <event package="sqlserver" name="rpc_completed">
      <action package="sqlserver" name="client_app_name"/>
      <action package="sqlserver" name="database_id"/>
      <action package="sqlserver" name="query_hash"/>
      <action package="sqlserver" name="session_id"/>
      <predicate>
        <and>
          <leaf>
            <comparator name="greater_than_uint64" package="package0"></comparator>
            <global name="database_id" package="sqlserver"></global>
            <value>4</value>
          </leaf>
          <leaf>
            <comparator name="equal_boolean" package="package0"></comparator>
            <global name="is_system" package="sqlserver"></global>
            <value>FALSE</value>
          </leaf>
        </and>
      </predicate>
    </event>
    <event package="sqlserver" name="sp_statement_completed">
      <action package="sqlserver" name="client_app_name"/>
      <action package="sqlserver" name="database_id"/>
      <action package="sqlserver" name="query_hash"/>
      <action package="sqlserver" name="query_plan_hash"/>
      <action package="sqlserver" name="session_id"/>
      <parameter name="collect_object_name" value="1"/>
      <predicate>
        <and>
          <leaf>
            <comparator name="greater_than_uint64" package="package0"></comparator>
            <global name="database_id" package="sqlserver"></global>
            <value>4</value>
          </leaf>
          <leaf>
            <comparator name="equal_boolean" package="package0"></comparator>
            <global name="is_system" package="sqlserver"></global>
            <value>FALSE</value>
          </leaf>
        </and>
      </predicate>
    </event>
    <event package="sqlserver" name="sql_batch_completed">
      <action package="sqlserver" name="client_app_name"/>
      <action package="sqlserver" name="database_id"/>
      <action package="sqlserver" name="query_hash"/>
      <action package="sqlserver" name="session_id"/>
      <predicate>
        <and>
          <leaf>
            <comparator name="greater_than_uint64" package="package0"></comparator>
            <global name="database_id" package="sqlserver"></global>
            <value>4</value>
          </leaf>
          <leaf>
            <comparator name="equal_boolean" package="package0"></comparator>
            <global name="is_system" package="sqlserver"></global>
            <value>FALSE</value>
          </leaf>
        </and>
      </predicate>
    </event>
    <event package="sqlserver" name="sql_statement_completed">
      <action package="sqlserver" name="client_app_name"/>
      <action package="sqlserver" name="database_id"/>
      <action package="sqlserver" name="query_hash"/>
      <action package="sqlserver" name="query_plan_hash"/>
      <action package="sqlserver" name="session_id"/>
      <predicate>
        <and>
          <leaf>
            <comparator name="greater_than_uint64" package="package0"></comparator>
            <global name="database_id" package="sqlserver"></global>
            <value>4</value>
          </leaf>
          <leaf>
            <comparator name="equal_boolean" package="package0"></comparator>
            <global name="is_system" package="sqlserver"></global>
            <value>FALSE</value>
          </leaf>
        </and>
      </predicate>
    </event>
    <target package="package0" name="ring_buffer"/>
  </event_session>
</event_sessions>
